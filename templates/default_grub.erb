# WARNING: This file maintained by Puppet.
# Editing is no use unless you avoid running the Puppet agent

GRUB_DEFAULT=<%= @default_entry %>
<% if @timeout_style != nil and ! @timeout_style_disable -%>
GRUB_TIMEOUT_STYLE="<%= @timeout_style %>"
<% end -%>
GRUB_TIMEOUT=<%= @timeout %>
<% if @timeout_style_disable -%>
<%   if @hidden_timeout != nil -%>
GRUB_HIDDEN_TIMEOUT=<%= @hidden_timeout %>
<%   end -%>
<%   if @hidden_timeout_quiet != nil -%>
GRUB_HIDDEN_TIMEOUT_QUIET="<%= @hidden_timeout_quiet %>"
<%   else -%>
GRUB_HIDDEN_TIMEOUT_QUIET="false"
<%   end -%>
<% end -%>
GRUB_DISTRIBUTOR=<%= @distributor %>
<% if @cmdline_linux_default != nil -%>
GRUB_CMDLINE_LINUX_DEFAULT="<%= @cmdline_linux_default %>"
<% end -%>
<% if !@cmdline_linux_recovery.empty? -%>
GRUB_CMDLINE_LINUX_RECOVERY="<%= @cmdline_linux_recovery %>"
<% end -%>
<% if !@cmdline_linux.empty? -%>
GRUB_CMDLINE_LINUX="<%= @cmdline_linux %>"
<% else %>GRUB_CMDLINE_LINUX=""
<% end -%>
<% if @recordfail_timeout != nil -%>
GRUB_RECORDFAIL_TIMEOUT="<%= @recordfail_timeout %>"
<% end -%>

# Uncomment to enable BadRAM filtering, modify to suit your needs
# This works with Linux (no patch required) and with any kernel that obtains
# the memory map information from GRUB (GNU Mach, kernel of FreeBSD ...)
<% if !@badram.empty? -%>
GRUB_BADRAM="<%= @badram %>"
<% else %>#GRUB_BADRAM="0x01234567,0xfefefefe,0x89abcdef,0xefefefef"
<% end -%>

# Uncomment to disable graphical terminal (grub-pc only)
<% if !@terminal.empty? -%>
GRUB_TERMINAL="<%= @terminal %>"
<% else %>#GRUB_TERMINAL="console"
<% end -%>
<% if !@serial_command.empty? -%>
GRUB_SERIAL_COMMAND="<%= @serial_command %>"
<% end -%>

# The resolution used on graphical terminal
# note that you can use only modes which your graphic card supports via VBE
# you can see them in real GRUB with the command `vbeinfo'
<% if !@gfxmode.empty? -%>
GRUB_GFXMODE=<%= @gfxmode %>
<% else %>#GRUB_GFXMODE=640x480
<% end -%>

# Uncomment if you don't want GRUB to pass "root=UUID=xxx" parameter to Linux
<% if @disable_uuid -%>
GRUB_DISABLE_LINUX_UUID="true"
<% else %>#GRUB_DISABLE_LINUX_UUID="true"
<% end -%>

<% if @disable_recovery -%>
GRUB_DISABLE_RECOVERY="true"
<% end -%>

<% if @disable_submenu -%>
GRUB_DISABLE_SUBMENU="true"
<% end -%>

<% if @enable_cryptodisk -%>
GRUB_ENABLE_CRYPTODISK="y"
<% end -%>

# Uncomment to get a beep at grub start
<% if !@tune.empty? -%>
GRUB_INIT_TUNE="<%= @tune %>"
<% else %>#GRUB_INIT_TUNE="480 440 1"
<% end -%>

<% if !@cmdline_xen.empty? -%>
GRUB_CMDLINE_XEN="<%= @cmdline_xen %>"
<% else %>
<% end -%>

GRUB_DISABLE_OS_PROBER="<%= @disable_os_prober %>"

<% if @suse_btrfs_snapshot_booting -%>
SUSE_BTRFS_SNAPSHOT_BOOTING="<%= @suse_btrfs_snapshot_booting %>"
<% end -%>

# If true, the last selected entry will become the new default one
# GRUB_DEFAULT should be set to "saved" and not to 0
<% if @save_default -%>
GRUB_SAVEDEFAULT="<%= @save_default %>"
<% end -%>

# Set a background image
# Image must respect various specifications
<% unless @background_image.empty? -%>
GRUB_BACKGROUND="<%= @background_image %>"
<% end -%>

# This option may be set to a list of GRUB module names separated by spaces
# Each module will be loaded as early as possible, at the start of grub.cfg
<% if !@preload_modules.empty? -%>
GRUB_PRELOAD_MODULES="<%= @preload_modules %>"
<% else %>#GRUB_PRELOAD_MODULES=""
<% end -%>

# The option controls if grub should use the BootLoaderSpec configfiles
# eg. under /boot/loader/entries
<% if @enable_blscfg -%>
GRUB_ENABLE_BLSCFG="true"
<% end -%>
